<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>任务二</title>
    <script src="three.js" type="text/javascript"></script>
</head>
<body onload="init()">
<canvas id="mainCanvas" width="800px" height="600px"></canvas>
<script>
    var scene = null;
   var camera = null;
   var renderer = null;
    var  mesh1= null;
    var mesh2 = null;
   var mesh3 = null;
    var mesh4 = null;
   var mesh5 = null;
   var plane = null;
   var id =null;
    function init() {
        renderer = new THREE.WebGLRenderer({
            canvas: document.getElementById('mainCanvas')
        });

        renderer.shadowMap.Enabled = true;
        renderer.shadowMapSoft = true;
        renderer.setClearColor(0xccccff);
        scene = new THREE.Scene();
        var light = new THREE.DirectionalLight();
        light.position.set(0,0.5,0.5);
        light.castShadow = true;
       light.shadow.CameraNear=-1;
        light.shadow.CameraFar = 1;
        light.shadow.CameraLeft = 1;
       light.shadow.CameraRight = -1;
        light.shadow.CameraTop = 0.5;
        light.shadow.CameraBottom =1;
        light.shadow.CameraVisible  = true;

        scene.add(light);
         camera = new THREE.OrthographicCamera(-1, 1, 1.5, -1.5, 1, 10);
        camera.position.set(5,5,5);
        camera.lookAt(new THREE.Vector3(0, 0, 0));
        scene.add(camera);
        var material = new THREE.MeshLambertMaterial({
            color: 0xffff00
        });
        var planemaerial = new THREE.MeshLambertMaterial({
        color:0xcccccc

        });

        mesh1 = new THREE.Mesh(new THREE.CubeGeometry(1, 1, 1), material);
        scene.add(mesh1);
        mesh1.scale.set(0.4,0.4,0.4);
        mesh1.castShadow = true;
      // mesh1.position.set(0,0,-0.5);
        mesh2= new THREE.Mesh(new THREE.TorusGeometry(0.2, 0.08, 8, 20), material);
        mesh3 = new THREE.Mesh(new THREE.TorusGeometry(0.2, 0.08, 8, 20), material);
        mesh4 = new THREE.Mesh(new THREE.TorusGeometry(0.2, 0.08, 8, 20), material);
        mesh5= new THREE.Mesh(new THREE.TorusGeometry(0.2, 0.08, 8, 20), material);
        mesh5.scale.set(0.4,0.4,0.4);
        mesh2.scale.set(0.4,0.4,0.4);
        mesh3.scale.set(0.4,0.4,0.4);
        mesh4.scale.set(0.4,0.4,0.4);
        mesh2.position.set(-0.2,-0.2,0.2);
        mesh3.position.set(0.2, -0.2, 0.2);
        mesh4.position.set(0.2, -0.2, -0.2);
        mesh5.position.set(-0.2, -0.2, -0.2);
       scene.add(mesh2);
       scene.add(mesh3);
       scene.add(mesh4);
        scene.add(mesh5);
        plane = new THREE.Mesh(new THREE.PlaneGeometry(2,2),planemaerial);
        plane.position.set(0,-0.28,0);
        plane.receiveShadow = true;
       scene.add(plane);
        plane.rotation.x = -Math.PI/2;
        renderer.render(scene,camera);
    }

</script>
</body>
</html>